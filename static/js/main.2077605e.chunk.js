(this["webpackJsonpperpetual-pencil"]=this["webpackJsonpperpetual-pencil"]||[]).push([[0],{41:function(e,t,n){},46:function(e,t,n){"use strict";n.r(t);var r=n(1),o=n(32),c=n.n(o),a=(n(41),n(6)),u=n(13),i=n(11),s=n(49),l=n(50),j=n(51),b=n(48),d=n(37),v=n(2),p=n(3),O=n(0),f=function(){function e(){Object(v.a)(this,e)}return Object(p.a)(e,null,[{key:"calculatePositionOnCurve",value:function(e,t,n,r,o){var c=Math.cos(e),a=Math.sin(e),u=n/t*e,i=Math.cos(u);o.x=r*(2+i)*.5*c,o.y=r*(2+i)*a*.5,o.z=r*Math.sin(u)*.5}},{key:"generatePoints",value:function(){for(var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:64,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:2,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:3,c=new O.Vector3,a=[],u=0;u<n;++u){var i=u/n*r*Math.PI*2;e.calculatePositionOnCurve(i,r,o,t,c),a.push(c.clone())}return a}},{key:"generateCurve",value:function(){return new O.CatmullRomCurve3(e.generatePoints.apply(e,arguments),!0)}}]),e}(),g=n(9),h=["radius","tubularSegments","p","q","debug","speed"],x=["color","points"];function m(){return Object(g.jsx)(i.a,{concurrent:!0,style:{background:"radial-gradient(gold, orange)"},camera:{position:[10,0,0],fov:30},resize:{polyfill:d.a},children:Object(g.jsx)(y,{})})}function y(){return Object(g.jsxs)(r.Suspense,{fallback:null,children:[Object(g.jsx)(s.a,{autoRotate:!0,autoRotateSpeed:-4.5}),Object(g.jsx)(l.a,{preset:"warehouse"}),Object(g.jsx)(k,{p:3,q:4,speed:.15})]})}function k(e){var t=e.radius,n=void 0===t?1:t,o=e.tubularSegments,c=void 0===o?64:o,s=e.p,l=void 0===s?2:s,b=e.q,d=void 0===b?3:b,v=e.debug,p=void 0!==v&&v,O=e.speed,x=void 0===O?.2:O,m=Object(u.a)(e,h),y=Object(r.useMemo)((function(){var e=f.generateCurve(n,c,l,d),t=e.getPoints(300);return{curve:e,points:t}}),[n,c,l,d]),k=y.curve,M=y.points,P=Object(r.useRef)();return Object(i.b)((function(e,t){P.current&&P.current.moveAlongCurve(t*x)})),Object(g.jsxs)("group",Object(a.a)(Object(a.a)({},m),{},{children:[Object(g.jsx)(j.a,{ref:P,curve:k,children:Object(g.jsx)(w,{})}),p&&Object(g.jsx)(C,{points:M,color:"red"})]}))}var w=Object(r.forwardRef)((function(e,t){var n=Object(b.a)("pencil.glb").nodes.mesh,o=n.material,c=n.geometry;return Object(r.useLayoutEffect)((function(){c.scale(7,7,7)}),[c]),Object(g.jsx)("mesh",Object(a.a)({ref:t,args:[c,o]},e))}));function C(e){var t=e.color,n=void 0===t?"white":t,r=e.points,o=void 0===r?[]:r,c=Object(u.a)(e,x),s=Object(i.e)((function(e){return e.setFromPoints(o)}),[o]);return Object(g.jsxs)("lineLoop",Object(a.a)(Object(a.a)({},c),{},{children:[Object(g.jsx)("bufferGeometry",{ref:s}),Object(g.jsx)("lineBasicMaterial",{color:n})]}))}c.a.render(Object(g.jsx)(m,{}),document.getElementById("root"))}},[[46,1,2]]]);
//# sourceMappingURL=main.2077605e.chunk.js.map